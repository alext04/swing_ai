# Agents Guide for SwingAI

This document instructs AI agents working on this repository how to generate code that matches the project's conventions, architecture, and quality expectations. Follow these rules to reduce hallucinations and minimize manual corrections.

## Quick project snapshot
- Stack: React 19 + TypeScript + Vite
- Key libraries: `react-router-dom`, `react-bootstrap`, `framer-motion`, `@mdi/react` (icons), `recharts`
- Build: `tsc -b && vite build`
- Dev: `vite`
- Lint: `eslint .` (see `package.json` scripts)
- Entry points: `src/main.tsx`, `src/App.tsx`
- Style: global `src/index.css`, theme variables generated by `src/theme.ts` (sources in `src/theme.json`)

## Core rules for any code change
1. TypeScript first: the project is strict. Ensure all new code type-checks under `tsc -b` using the existing tsconfig. Avoid `any` unless explicitly justified and documented in the PR.
2. Run linters: run `npm run lint` and fix ESLint errors/warnings before committing. Follow the existing ESLint configuration.
3. Match exports: UI components in this repo use default exports. Follow the same convention unless the existing file uses named exports.
4. Keep changes minimal and localized: modify only the files necessary for a feature or bugfix. Large refactors require explicit approval.
5. No new runtime dependencies without approval: if a dependency seems necessary, propose it first in a PR description and explain its trade-offs.

## Conventions and patterns
- Functional components using React Hooks. Use `React.FC<Props>` when the codebase uses it; otherwise follow local file style.
- Routing is via `react-router-dom`; add routes in `src/App.tsx` when new pages are required.
- Layouts and page components live under `src/pages` and small reusable pieces under `src/components`.
- Use `Container` from `react-bootstrap` for page content consistent with `App.tsx`.
- Keep UI state local to components where possible; lift only when multiple siblings need the state.

## Styling and theming
- Theme values come from `src/theme.json` and `src/theme.ts`. Use `colors` and `injectTheme()` rather than hard-coded hex colors. See `src/theme.ts` for helpers.
- Prefer CSS classes and the global `src/index.css` utilities and variables. This repo uses CSS custom properties (generated by `theme.ts`) and utility classes like `.card`, `.stat-card`, `.grid-*`.
- The codebase occasionally uses inline styles (see `src/components/Sidebar.tsx`). If adding inline styles, follow the existing pattern and keep them small; prefer CSS variables for colors and spacing.

## File and code layout expectations
- New pages: add to `src/pages` and export as default. Register route in `src/App.tsx`.
- New components: add to `src/components`. Keep each component in a single file unless it grows; prefer small, focused components.
- Assets: place images/static files in `public/` or `src/assets` as appropriate.

## Safety, privacy, and domain-sensitive areas
- Medical or personal data: treat any code touching medical reports or user health data as sensitive. Do NOT generate or assume schemas for medical records—ask for clarification and data contracts. Add type-safe interfaces and require explicit test/fixture data.

## Verification checklist (must pass before proposing changes)
1. Type-check: `tsc -b` (no errors)
2. Lint: `npm run lint` (no errors; justify any warnings deliberately suppressed)
3. Run the app locally: `npm run dev` and sanity-check pages changed/added render without obvious console errors.
4. Manual smoke test: navigate the route(s) affected and confirm layout and responsive behavior.
5. Tests: if adding logic, include unit tests or a short test harness and explain how to run them.

## PR and commit guidance for agents
- Commit messages: short imperative subject + scope. Example: `feat(player): add player detail page with basic layout`.
- PR description: include a short summary, files changed, motivation, how to run and verify locally, and any remaining manual steps.
- Code comments: if a non-obvious implementation choice is made, include a short comment explaining the reason and a link to an issue or design note.

## How to avoid hallucinations
1. Always search the codebase for similar implementations before introducing behavior or APIs. Reuse patterns rather than inventing new ones.
2. When the domain is ambiguous (e.g., expected shape of a medical report), stop and request the schema or sample data instead of guessing.
3. If asked to add integrations (external APIs, analytics, telemetry), propose the exact API surface and required environment variables; do not hard-code keys or endpoints.
4. For any algorithmic code (analysis, statistics), add clear unit tests with deterministic inputs and expected outputs.

## Example agent workflow (before opening PR)
1. Search the repo for similar components and patterns.
2. Draft changes locally in one branch; keep single responsibility per branch.
3. Run `tsc -b` and `npm run lint` and fix any issues.
4. Start the dev server and do a quick manual test of affected routes/components.
5. Commit with a descriptive message and open a PR with verification steps and rationale.

## Helpful links (local files)
- Theme helpers: src/theme.ts
- Global styles: src/index.css
- App entry and routes: src/App.tsx

If you are uncertain about any requirement or the data model, ask for clarification—do not assume. Follow these rules and you'll produce high-quality, consistent contributions to SwingAI.
